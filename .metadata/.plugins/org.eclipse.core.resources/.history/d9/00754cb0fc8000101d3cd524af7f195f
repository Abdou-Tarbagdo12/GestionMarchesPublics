package service;

import model.Proposition;
import exception.EntityNotFoundException;
import java.util.ArrayList;
import java.util.List;

public class PropositionService {
    private List<Proposition> propositions = new ArrayList<>();

    public void ajouterProposition(Proposition proposition) {
        propositions.add(proposition);
        System.out.println("✅ Proposition ajoutée pour le marché : " + proposition.getMarche().getTitre());
    }

    public void afficherPropositions() {
        if (propositions.isEmpty()) {
            System.out.println("Aucune proposition disponible.");
        } else {
            propositions.forEach(System.out::println);
        }
    }

    // Rechercher une proposition par montant
    public Proposition rechercherProposition(double montant) throws EntityNotFoundException {
        for (Proposition p : propositions) {
            if (p.getMontantPropose() == montant) {
                return p;
            }
        }
        throw new EntityNotFoundException("Proposition avec montant " + montant + " non trouvée.");
    }
}
